sensors ( basel ) sensors ( basel ) sensors ( basel , switzerland ) 1424 - 8220 molecular diversity preservation international ( mdpi ) 23598503 3673132 10.3390 / s130405181 sensors - 13 - 05181 article experimental investigation on adaptive robust controller designs applied to constrained manipulators nogueira samuel l .
1 * pazelli tatiana f. p. a. t. 2 siqueira adriano a. g. 1 terra marco h .
3 1 department of mechanical engineering , university of sao paulo , 400 trabalhador sao - carlense av. , 13566 - 590 , sao carlos , brazil ; e - mail : siqueira @ sc.usp.br 2 department of electrical engineering , federal university of sao carlos,washington luis , km 235 - sp - 310 , sao carlos , brazil ; e - mail : tatianapazelli @ ufscar.br 3 department of electrical engineering , university of sao paulo , 400 trabalhador sao - carlense av. , 13566 - 590 , sao carlos , brazil ; e - mail : terra @ sc.usp.br * author to whom correspondence should be addressed ; e - mail : samlourenco @ gmail.com ; tel. : + 55 - 16 - 3373 - 8743 .
4 2013 18 4 2013 13 4 5181 5204 05 4 2013 16 4 2013 16 4 2013 ( c ) 2013 by the authors ; licensee mdpi , basel , switzerland .
2013 this article is an open access article distributed under the terms and conditions of the creative commons attribution license ( http :// creativecommons.org / licenses / by / 3.0 /) .
in this paper , two interlaced studies are presented .
the first is directed to the design and construction of a dynamic 3d force / moment sensor .
the device is applied to provide a feedback signal of forces and moments exerted by the robotic end - effector .
this development has become an alternative solution to the existing multi - axis load cell based on static force and moment sensors .
the second one shows an experimental investigation on the performance of four different adaptive nonlinear hinfinity control methods applied to a constrained manipulator subject to uncertainties in the model and external disturbances .
coordinated position and force control is evaluated .
adaptive procedures are based on neural networks and fuzzy systems applied in two different modeling strategies .
the first modeling strategy requires a well - known nominal model for the robot , so that the intelligent systems are applied only to estimate the effects of uncertainties , unmodeled dynamics and external disturbances .
the second strategy considers that the robot model is completely unknown and , therefore , intelligent systems are used to estimate these dynamics .
a comparative study is conducted based on experimental implementations performed with an actual planar manipulator and with the dynamic force sensor developed for this purpose .
constrained manipulators hinfinity control neural networks fuzzy systems variable structure control load cell multi - axis force sensor 1 .
introduction the first robotic manipulators were developed in order to perform positioning tasks .
they were then specifically designed to be robust enough so as to not be affected by external disturbances .
this physical robustness of robot manipulators has enabled researchers to obtain accurate positioning systems based on simple control laws .
decades later , the popularization of industrial robotics has heightened researchers' interest in creating a much wider range of applications for robotic manipulators in various environments .
nowadays , many applications demand robotic manipulators to perform tasks subject to force and motion constraints .
for example , the process of milling a piece requires accurate incidence angles , paths , forces and moments exerted by the drill in the milled material .
additionally , in industrial assembly lines , the objects must be assembled along certain paths with predetermined forces and moments .
in sheet metal cutting , the cutting angles , paths and forces exerted on the material are also important .
moreover , on surfaces where polishing disks must always be perpendicular to the surface being polished , predetermined force must be applied .
consequently , new concepts of position and force control for lighter and more flexible robots have been created [ 1,2 ] .
the problem defined in these applications involves three stages : the approach phase , the impact moment and the sustained contact tracking .
the approach phase has been addressed in many works and defines the problem of positioning the tool without , or before , touching the environment .
the second phase requires controlling the initial impact and damping out the vibrations generated during the event .
after the initial impact , sustained contact is desired in many operations .
in these cases , not only the motion of the end - effector is required to follow a prescribed path , but also the force exerted by the end - effector is required to follow a predefined reference .
in these constrained systems , forces and moments generated between the end - effector and the target must be controlled , rather than being treated as disturbances and rejected .
addressing manipulators subject to model uncertainties and disturbances , the work considered in this paper is concentrated on the sustained contact tracking phase of the problem .
the great majority of solutions presented in the literature for the problem of constrained systems control require knowing the forces and moments of interaction between the robot end - effector and the environment where it is acting .
the problem of force control undertaken in this paper was also considered in [ 1,3 - 7 ] .
however , only simulation results were presented .
as a differential and important contribution , this paper addresses an experimental investigation on robust force control as a result of the development of a modular sensor device .
the proposed device is designed and built to measure dynamic forces and moments in three orthogonal axes based on unidirectional force sensor units .
as a consequence of its independent architecture on the type of sensitive material , static or dynamic force sensors can be applied .
piezoelectric or piezoresistive force sensors are effective solutions for the applications involved in this study due to their inherent dynamic response characteristics .
this paper is organized as follows : next section presents preliminary concepts and relevant results found in the literature ; section 3 introduces the model description of the constrained robot manipulator ; section 4 presents the problem formulation ; section 5 describes the solutions for the nonlinear hinfinity control problems based on the linear parametrization property of the model , neural networks and fuzzy systems ; section 6 demonstrates the 3d dynamic force and moment sensor ; and section 7 presents the experimental results for a three - link manipulator .
2. preliminary concepts the concept of stiffness control was introduced by salisbury [ 8 ] .
it is based on the resistance of the environment in which the robotic end - effector applies the force .
the problem is modeled as a mass - spring system and this method made possible the simultaneous position / force control .
however , it considers constant desired position and force .
in many robotic applications , such as when milling a piece , the end - effector must follow a trajectory along the surface of an object while applying a desired force , which is not necessarily constant .
in this case , the stiffness control application does not work properly .
to address this type of limitation , raibert and craig [ 9 ] partitioned the control problem into two subtasks : one task is for controlling the position trajectory and the other task for controlling the desired force .
this approach has been evolutionary for controllers , as proposed by paul et al .
[ 10 ] , and became the conceptual basis of the hybrid trajectory of position and force control currently found in the literature .
it was shown by mcclamroch and wang [ 11 ] , that when a manipulator is in contact with a surface , the position degrees of freedom are reduced .
in this case , force constraint is added to motion equations through lagrange multipliers .
thus , the order of the state vector is reduced in the dynamic equations of the manipulator .
since the phase of controlling robotic systems with restricted position and force has been overcome , researchers began to focus on variables that could degrade the stability of the proposed models .
the load on the end - effector that can fluctuate while the manipulator performs various tasks , friction and parameter uncertainties , are some examples that have required much research effort [ 12 - 15 ] .
however , only a few studies have dealt with adaptive and robust control of robotic systems subject to constraints [ 16 - 20 ] .
using the basis developed by [ 9,11 ] , the work performed by chang and chen [ 21 ] submitted an adaptive controller with hinfinity robust performance criterion for robotic systems with position and force constraints .
on the development of adaptive robust controllers , neural networks , combined with a nonlinear hinfinity control law , were applied by chang and chen [ 22 ] to control robotic systems subject to parametric uncertainties and external disturbances .
a smooth response was achieved with a simple and computationally efficient implementation .
neural networks were applied to estimate the unknown dynamics of the system , thereby not requiring mathematical modeling knowledge .
a variable structure controller ( vsc ) is added to this formulation by chang and chen [ 23 ] .
the inclusion of vsc in the control law weakens the hypothesis used by the authors in [ 22 ] that the estimation error should be integrable , and limits it to be only a state - dependent function .
following this approach , the authors in [ 24 ] developed an adaptive hinfinity controller based on fuzzy systems and vsc for robots with position and force constraints .
karayiannidis and doulgeri proposed adaptive controllers in [ 5,6 ] for force and position trajectory tracking in environments with little or no constraint knowledge .
in these papers , the main purpose is to explore the workspace using measurements of position , speed and force in a robotic end - effector , to attenuate impacts caused by unknown environments .
in order to improve estimates of these models , the use of a camera was proposed by cheah et al .
[ 4 ] to provide a better estimate of the contact constraint through computer vision .
however , these works are more interested in exploring the environmental constraint , rather than a repetitive task control with great tracking precision .
to satisfy the need of measuring the forces and moments of interaction between the robot end - effector and the environment , devices known as multi - axis load cell or multi - axis force and moment sensor are used .
there are several patents on devices whose purpose is to measure forces and moments in three axes .
force sensors , such as strain gages , have been generally used as the basic unit of measurement , as shown by the illustrative examples in figure 1 .
the multi - axis load cell developed by meyer and lowe [ 25 ] was built in one piece with internal and external parts that are connected by a pair of axially spaced beams .
the beams are fixed in the center of the piece , where the strain gages are attached , and an outside tunnel .
the loads are measured by the curvature of the connectors .
the load transducer developed by meyer et al .
[ 26 ] measures linear forces in three axes and moments of about two axes .
the transducer has encapsulations connected by internal and external arms - sensitive loading .
the device described by sommerfeld et al .
[ 27 ] consists of an external annular body , a hub and four beams that hold the hub to the radially outward portion .
strain gages are fixed to the faces of the beams , with a 90 degree lagging .
forces and moments exerted on the hub are transmitted to the four beams , and consequently , to the strain gages .
differently from [ 25,26 ] , this device described by sommerfeld et al .
[ 27 ] is able to measure forces and moments in three orthogonal axes .
however , all the devices mentioned above have an extrusion completely dependent upon the type of sensitive material being used .
3. model description let a constrained robot manipulator be defined by an n - link serial - chain rigid manipulator whose end - effector is in contact with a rigid environmental constraint , according to figure 2 .
the links of the manipulator are numbered from 1 to n : ji is the joint connecting the ( i - 1 ) - th and i - th links , li is the vector connecting ji and ji + 1 , qi is the angle of the i - th link around joint ji , ci is the center of mass of the i - th link and lci is the vector connecting ji and ci. the constraint surface is represented by s and alpha is the angle of contact between the end - effector and s. remark 1 assume that the end - effector is already in contact with the constraint surface , and the control exerted over the constraint force is such that the force will always maintain the end - effector in contact with the constraint surface .
3.1 .
robot dynamics the dynamic equations of a constrained robot is given from lagrange theory as ( 1 ) m ( q ) q + c ( q,q. ) q. + g ( q )= tau + f + taudwhere m ( q ) in rn x n is the symmetric positive definite inertia matrix , c ( q , q. ) in rn x n is the coriolis and centripetal matrix , g ( q ) in rn is the vector of the gravitational torques , tau in rn is the torque vector acting upon the manipulator joint , f in rn denotes the vector of joint - space generalized forces on the environmental constraint exerted by the end - effector , and taud defines finite energy unknown disturbances .
model uncertainties in equation ( 1 ) can be introduced dividing the matrices m ( q ) , c ( q , q. ) , g ( q ) , and f into a nominal and a perturbed part : ( 2 ) m ( q )= m0 ( q )+ deltam ( q ) c ( q,q. )= c0 ( q,q. )+ deltac ( q,q. ) g ( q )= g0 ( q )+ deltag ( q ) f = f0 + deltaf where m0 ( q ) , c0 ( q , q. ) , g0 ( q ) , and f0 are nominal matrices and deltam ( q ) , deltac ( q , q. ) , deltag ( q ) , and deltaf represent the uncertainties .
3.2 .
constraint modelling considering remark 1 , the m - dimensional surface constraint is described by the holonomic relationship ( 3 ) phi ( q )= 0where phi ( q ) : rn - - > rm is a smooth function .
constraint forces are given by ( 4 ) f = jct ( q ) lambdawhere jc ( q )= deltaphi ( q ) deltaqinrmxn is the jacobian matrix that relates the constraint to the controlled variables of the robot and lambda in rm is a vector of generalized lagrangian multipliers associated with the constraint .
in this paper , it is considered that parametric uncertainties may also be included into the constraint model since the constraint surface may be not perfectly rigid , frictionless or even that its geometric description may not be exactly known .
thus , consider ( 5 ) phi ( q )= deltaphi ( q ) jc ( q )= jc ( q )+ deltajc ( q ) and assume that deltaphi and deltajc are implicit in deltaf , described in equation ( 2 ) .
3.3 .
reduced order model the presence of m constraints causes the manipulator to lose m degrees of freedom , and therefore , n - m linearly independent coordinates are sufficient to characterize the constrained movement .
therefore , to formulate a reduced order dynamics for the constrained system , the formulation presented in this paper follows the assumptions made by mcclamroch and wang [ 11 ] and posteriorly by chang and chen [ 24 ] .
define q =[ q1q2 ] where q2 = sigma ( q1 ) and phi ( q1 , sigma ( q1 )) = 0 .
the following reduced model formulation is obtained for the constrained manipulator as the model proposed by chang and chen [ 24 ] : ( 6 ) al ( q1 ) q 1 + lt ( q1 ) cl ( q1,q.1 ) q.1 + lt ( q1 ) g ( q1 )= lt ( q1 )( tau + taud ) where l ( q1 )=[ i ( n - m ) dsigma ( q1 ) dq1 ] and cl ( q1,q.1 ) q.1 = m ( q1 ) l. ( q1 )+ c ( q1,q.1 ) l ( q1 ) the necessary structure and properties of the model for controller formulation are maintained since al ( q1 ) = lt ( q1 ) m ( q1 ) l ( q1 ) is symmetric positive definite and the matrix a.l ( q1 ) - 2lt ( q1 ) cl ( q1 , q.1 ) is skew symmetric .
4. problem formulation let qd ( t ) in rn and q.d ( t ) in rn be the desired reference trajectory and the corresponding velocity for the joints , respectively assume that qd ( t ) and its derivatives q.d ( t ) and q d ( t ) are bounded .
define a bounded fd in rn as the desired reference contact force .
to be consistent with the imposed restrictions , we need to assure that phi ( qd ) = 0 and fd = jct ( qd ) lambdad .
since q2 = sigma ( q1 ) , it is only necessary to find a control law that makes q1 - - > qd1 when t - - > infinity .
therefore , define the position tracking error x1 ( t ) and the filtered link tracking error x2 ( t ) , as in [ 24 ] : ( 7 ) x ( t )=.[ x 1 ( t ) x 2 ( t )]=.[ q1 ( t ) - qd1 ( t ) q.1 ( t ) - q.d1 ( t )+ p ( q1 ( t ) - qd1 ( t ))] for some constant p > 0. from equations ( 6 ) and ( 7 ) , the error dynamic equations can be obtained as ( 8 ) x .=[ x . 1x . 2 ]= ax + bu + bwwhere a =[ - pii0 - al - 1 ( q1 ) cl ( q1,q.1 )] , b =[ 0 - ( m ( q1 ) l ( q1 )) - 1 ] u = f ( xe ) - tau,omega = taud,andf ( xe )=. m ( q1 ) l ( q1 )( q d1 - px . 1 )+ cl ( q1,q.1 )( q.d1 - px 1 )+ g ( q1 ) within this problem formulation , the torques applied to the joints to guarantee the task execution are given by ( 9 ) tau = f ( xe ) - uwhere the term f ( xe ) refers to the dynamics of the controlled variables and u is the control law provided by the adaptive hinfinity controller proposed by chang and chen [ 24 ] .
the term f ( xe ) can be divided in a nominal and uncertainty part , that is , f ( xe )= f0 ( xe )+ deltaf ( xe ) where term deltaf ( xe ) contains the uncertainties from parametric equations ( 2 ) and ( 5 ) .
in this paper , the control problem is solved based on two different approaches .
in the first approach , an adaptive intelligent system is applied to estimate only the term deltaf ( xe ) , considering that the nominal model of the robot is well known .
in the second approach , it is considered that the system model or the term f0 ( xe ) + deltaf ( xe ) is completely unknown , then the adaptive intelligent system is applied to estimate it. the nonlinear hinfinity control and vsc are applied in both approaches to attenuate the effects of estimation errors and external disturbances .
5. adaptive nonlinear hinfinity controller based on intelligent systems the adaptive control laws presented as follows are based on two different learning methods to estimate uncertain parameters and also the behavior of unmodeled dynamics .
neural networks and fuzzy systems based on the takagi - sugeno model are considered .
the structure of these intelligent systems can be seen in details in [ 28 ] .
let f ( xe , theta ) = xi ( xe ) theta be the output of the adaptive intelligent system , where xe is the input vector and theta is a vector of adjustable parameters such that thetattheta <= mtheta | mtheta > 0 .
two different cases are considered in the following : case 1 estimation of model uncertainties based on intelligent systems in this case , the nominal model of the robot is considered as well known , the intelligent system then estimates only the model uncertainties , such as f ^ 1 ( xe,theta )=~ deltaf ( xe ) therefore u and omega in equation ( 8 ) will be rewritten as u = f0 ( xe )+ f ^ 1 ( xe,theta ) - tauomega =( deltaf ( xe ) - f ^ 1 ( xe,theta ))+ taudso that omega includes the estimation error from the intelligent system .
case 2 estimation of complete model based on intelligent systems in this case , however , the nominal model of the robot is considered completely unknown , so the intelligent system estimates the complete model , such as f ^ 2 ( xe,theta )=~ f0 ( xe )+ deltaf ( xe ) therefore u and omega in equation ( 8 ) is rewritten as u = f ^ 2 ( xe,theta ) - tauomega =( f ( xe ) - f ^ 2 ( xe,theta ))+ taudso that omega includes the estimation error from the intelligent system .
regarding the nonlinear hinfinity control solution proposed by chang and chen [ 24 ] for constrained systems , define u = u where u = up + uf , such that ( 10 ) up = k0ex 2 - k ( xe ) sgn ( lx 2 ) ( 11 ) uf = jctlambdacwhere up is the hinfinity + vsc control term for the position enforcement and uf is the hinfinity control law for the force tracking procedure , with e :=[ i ( n - m ) 0mx ( n - m )] andlambdac =. lambdad - klambdaintegral0t ( lambda - lambdad ) dtfor some constant gain k0 , k ( xe ) > 0 and klambda > 0 .
theorem 1 presented in the following is a variation of the results presented in [ 21,23,24 ] with the difference that the nominal model and an intelligent system are considered rather than the linear parametrization of the robot .
thus , this theorem defines an adaptive hinfinity controller to solve the same problem 's position / force tracking control problems presented in these papers but with the advantage of using the known model of the robot .
theorem 1 given a desired disturbance attenuation level gamma > 0 , a weighting matrix q and the lyapunov candidate function v ( t ) , the following performance criterion ( 12 ) integral0t || x ( t )|| q2 <= v ( 0 )+ gamma2integral0t || omega ( t )|| 2,for - allt >= 0is satisfied , for omega ( t ) in l2 [ 0,infinity ) , if there exists a dynamic state feedback controller ( 13 ) theta. ={ - rho - txitlx 2if || theta ||< mthetaor (|| theta ||= mthetaandx 2tltxitheta >= 0 ) - rho - txitlx 2 + - rho - tx 2tltxitheta || theta || 2thetaif || theta ||= mthetaandx 2tltxitheta < 0 ( 14 ) tau = f0 ( xe )+ xitheta - k0ex 2 + k ( xe ) sgn ( lx 2 ) - jtlambdacwhich is the solution of the adaptive nonlinear hinfinity control problem subject to equation ( 6 ) for the cases 1 and 2 .
the stability proof of this dynamic controller follows the line of the proof presented by chang and chen [ 24 ] .
6. force / moment sensor development the controllers proposed in section 5 require the inferred force and moment measures in the robotic end - effector .
the most accurate way to obtain such information is by measurements obtained through a multi - axes load cell .
this section presents a detailed description on the modular 3d dynamic force / moment sensor device developed for this application purpose .
its modular architecture is shown in figure 3 .
6.1 .
mechanical description the 3d dynamic forces / moments sensor essentially comprised of two parts : a moving part and a fixed part .
the moving part is shown in yellow in figure 3 ( 1 ) .
it is composed of a base ( outside the sensor body ) and a body of force transmission ( inside the sensor body ) , which is responsible for transmitting forces and moments to the unidirectional force sensor units mounted on the fixed part , figure 3 ( 2 ) .
the device has an aluminum - made sensor board where twelve force sensor units are disposed in order to measure force and moment in all directions .
the sensor units are arranged in pairs , for example , sensors 1a and 1b as shown in figure 4 , which illustrates the body of forces transmission ( 4 ) and identifies the sensor units .
each pair of sensor units measures the force in one direction .
this setting is tensioned proportionally to the movement performed by ( 4 ) in that axis .
therefore , forces and moments normal to the plane of the base are calculated by the composition of measured forces in the three axes .
figure 5 demonstrates the sensor units operation schematic , and identifies the force measurements .
the formulation of the resultant forces / moments composition is obtained as follows .
three pairs of sensor units , ( 1a,1b ) , ( 2a,2b ) and ( 3a,3b ) , define , respectively , the force measurements ( f1a,f1b ) , ( f2a,f2b ) and ( f3a,f3b ) .
the resultant forces of these three points can be expressed as ( 15 ) f1 = f1a - f1b ( 16 ) f2 = f2a - f2b ( 17 ) f3 = f3a - f3b it can be seen in figure 5 that f1 , f2 , and f3 form an equilateral triangle , whose side is given by d1 .
in [ 29 ] , doebelin demonstrated that if three load cells , measuring force in one direction , are arranged triangularly as the vertices of the triangle ( the measurement direction normal to the plane formed by the triangle ) , the following physical quantities can be calculated : ( 18 ) fx = f1 + f2 + f3 ( 19 ) my = d1f1 - f2 - ( f3 - f1 ) 23 ( 20 ) mz = d1 ( f3 - f2 ) 2where fx , my , and mz are the force along x - axis and the moments along axes y and z , respectively .
in the same way , f4 , f5 , and f6 also form an equilateral triangle , whose side is given by d2 .
thus , the resultant forces of these three points can be expressed as ( 21 ) f4 = f4a - f4b ( 22 ) f5 = f5a - f5b ( 23 ) f6 = f6a - f6band therefore , ( 24 ) fy = f5 - f4 - ( f4 - f6 ) 2 ( 25 ) fz = 3 ( f5 - f6 ) 2 ( 26 ) mx = - d2 ( f4 + f5 + f6 ) 23where fy , fz , and mx are the forces along axes y and z and the moment along axis x , respectively .
the sensor parts and the assembled device is shown in figure 6 .
the applied sensor unit provides a measurement range of 0 to 1.5 kgf , or a maximum load of 14.7 n. by means of equations ( 18 ) - ( 20 ) and ( 24 ) - ( 26 ) , the built sensor presents measurements characteristics as shown in table 1 .
6.2 .
electronic description the signal from each pair of unidirectional sensors are conditioned by an electronic circuit based on instrumentation amplifiers ( ina ) .
the electrical schematic of the signal conditioning circuit is summarized in figure 7 .
the sensors are powered by a symmetric supply (+ vcc and - vcc ) and provide differential output signals ( for example , f1ax and f1ay ) .
six ina comprise the printed circuit board ( pcb ) .
each ina is responsible for conditioning output signals from a pair of force sensors. with this configuration it became possible to measure the differential forces applied on the moving part of the proposed device .
the resultant force is then given by the following equation as described in figure 7 .
fi = kfia - kfib the signals generated by the inas are directed to a data acquisition board that interfaces with the computer .
7. experimental results the designed 3d dynamic forces / moments sensor operation is validated in a set of experimental applications , where a three - link planar manipulator is subject to a holonomic constraint defined by a straight rule .
the proposed intelligent adaptive robust controllers are applied to this plant for position and force trajectory tracking .
the experimental manipulator uarm ( underactuated robot manipulator ) , whose nominal parameters are given in table 2 , is composed of a dc motor in each joint , a break and an optical encoder with quadrature decoding used to measure joint positions , figure 8 ( a ) .
joint velocities are obtained by numerical differentiation and filtering [ 30,31 ] .
modeling matrices for the uarm , m ( q ) , c ( q , q. ) , and g ( q ) , can be seen in [ 30 ] .
in figure 8 ( b ) , the designed force sensor is coupled to the uarm end - effector which is constrained in a straight rule .
a graphical user interface , whose software was developed using matlab ( r ) platform , is used to implement control laws and interface with the experimental setup .
it was implemented in a modular form , since any new controller can be easily developed and applied .
7.1 .
implementation of control law the constraint surface for the robot end - effector is a segment of a straight line on the x - y plane .
the angle alpha between the end - effector and the constraint line is defined in this application example as pi / 2 .
it means that the orientation must remain in a constant value c given through the line inclination beta and alpha , where c = pi + atan ( beta ) - alpha .
hence , the equation of the m = 2 constraints is given by phi ( q )=[ - l1s1 - l2s12 - l3s123 + beta [ l1c1 + l2c12 + l3c123 ]+ bq1 + q2 + q3 - c ]=[ 00 ] where b is the linear coefficient of the constraint line , sij = sin ( qi + qj ) , cij = cos ( qi + qj ) .
hence , phi : r3 - - > r2 , and the jacobian matrix , jc ( q ) = dphi / dq , is given by jc =[ jc11jc12jc13jc21jc22jc23 ] with jc11 = l1c1 + l2c12 + l3c123 + beta [ l1s1 + l2s12 + l3s123 ] jc12 = l2c12 + l3c123 + beta [ l2s12 + l3s123 ] jc13 = l3c123 + beta [ l3s123 ] jc21 = jc22 = jc23 = 1 defining q1 = [ q1 ] and q2 = [ q2 q3 ] , the matrix l ( q ) of the constraint line is l ( q )=[ 1 - [ l1cos ( q1 )+ l2cos ( q1 + q2 )+ beta ( l1sin ( q1 )+ l2sin ( q1 + q2 ))] l2 [ cos ( q1 + q2 )+ betasin ( q1 + q2 )][ l1cos ( q1 )+ l2cos ( q1 + q2 )+ beta ( l1sin ( q1 )+ l2sin ( q1 + q2 ))] l2 [ cos ( q1 + q2 )+ betasin ( q1 + q2 )] - 1 ] initial and final coordinates of the movement are ( x0,y0 ) = ( 0.46,0.38 ) m and ( x ( t ) , y ( t )) = ( 0.53 , 0.13 ) m , respectively .
in this case , beta = - 3.57 , b = 2.02 , and c = 15.6degrees .
the reference trajectory for the joint variables qd ( t )= qd1 ( t ) is a fifth - degree polynomial , with trajectory duration time t = 4 s. it is desired that no force acts on the normal direction of the constrain line and no moment acts on the z - direction , that is , lambdad = [( fx ) d ( mz ) d ] t = [ 0 0 ] t. we use as benchmarking for comparison of the proposed controllers , a controller with no intelligent adjust adaptation , that is , only the nominal parameters are used .
in other words , we use the controller of equation ( 14 ) without the xitheta term .
during the experiment , a limited disturbance was introduced at ti = 1.0s in the following form : taud =[ 0,01e - ( t - td ) 22mu2sen ( 3,6pit ) - 0,01e - ( t - td ) 22mu2sen ( 2,7pit ) 0,01e - ( t - td ) 22mu2sen ( 1,8pit )] if compared with the nominal torque , the disturbance taud is approximately 64 % of its peak value , see figure 9 .
the selected gains are defined in table 3 .
7.1.1 .
neural networks configuration for the nonlinear hinfinity controllers via neural network , cases 1 and 2 , proposed in section 5 , let n = 3 be the number of joints of manipulator .
define f ^ nni ( xe,theta )=[ f ^ nni1 ( xe,theta1 ) f ^ nni2 ( xe,theta2 ) f ^ nni3 ( xe,theta3 )] t = xithetawith p1 = p2 = p3 = 7 neurons in the hidden layer and the bias vector b1 = b2 = b3 = [ - 3 - 2 - 1 0 1 2 3 ] .
using the reduced model , the input vector xe is defined by xe =[ q1q.1qd1q.d1q d1 ] .
in order to provide an input related to the error values , the weighting matrix for the first layer of the neural networks is defined by wi1 = wi2 = wi3 =[ wij1 ]=[ wij2 ]=[ wij3 ]=[ 11 - 1 - 1 - 1 ] .
the activation function of the neurons in the hidden layer is chosen as the hyperbolic tangent , g (.)
= tanh (.) .
the uncertain vector theta is defined as theta =[ theta1ttheta2ttheta3t ] t and the matrix xi =[ xi1txi2txi3t ] t as pazelli et al. and siqueira et al. showed in [ 28,30 ] .
theta values are updated at each control iteration by the adaptive law given in equation ( 13 ) .
the neural networks outputs are given by f ^ nnik ( xe,thetak )= sumi = 1pkthetakig ( sumj = 1qkwijkxej + bik )= xiktthetak experimental results for the case 1 ( nn1 ) with neural network are shown in figures 10 ( a ) , 11 ( a ) , and 12 ( a ) .
for the case 2 with neural network plus nominal model ( nn2 ) , experimental results are shown in figures 10 ( b ) , 11 ( b ) , and 12 ( b ) .
remark 2 although nn1 and nn2 use the same structure and the same input data , their outputs are different .
the online adaptation law provides the update of theta values in distinct ways for each case .
the contribution of nn1 output to the final torque signal is lower than the contribution of nn2 output , since nn1 estimates the value of deltaf ( xe ) and nn2 estimates the value of f ( xe ) + deltaf ( xe ) .
thus , theta values must achieve that requirement for each case .
7.1.2 .
fuzzy systems configuration for the proposed adaptive fuzzy nonlinear hinfinity controllers , cases 1 and 2 ( section 5 ) , a set of n = 3 fuzzy systems may be defined by f ^ fsi ( xe,theta )=[ f ^ fsi1 ( xe,theta1 ) f ^ fsi2 ( xe,theta2 ) f ^ fsi3 ( xe,theta3 )] t = xithetawhere ffsi1 (.,.) , ffsi2 (.,.) , and ffsi3 (.,.) correspond to the estimate of the uncertain part of the dynamic behavior of joints 1 , 2 , and 3 , respectively .
the input vector xe is defined as xe =[ q ~ 1q ~. 1 ] .
the fuzzy sets a ( xe )=[ a1 ( q ~ 1 ) a2 ( q ~. 1 )] are defined according to figure 13 and the number of linguistic variables in u1 and u2 are defined as r1 = r2 = 3 .
they are applied to both ffsi1 (.,.) , ffsi2 (.,.) and ffsi3 (.,.) for the universe of discourse of position errors , u21 = u12 = u13 = q ~ 1inu11 = u12 = u13 = u1 , and for the universe of discourse of velocity errors , u21 = u22 = u23 = q ~. 1inu21 = u22 = u23 = u2 .
during the control loop , these graphics are used to determine the grade of membership associated to xe , which defines the value of mu in the output of the takagi - sugeno fuzzy model ; for more details see [ 28 ] , f ^ fsik ( xe,thetak )= sumi = 1pkmuikyiksumi = 1pkmuik = sumi = 1pkmuik ( thetai0k + thetai1ku1 + thetai2ku2 ) sumi = 1pkmuik = xiktthetak a fuzzy rule base is defined with pk = r1r2 = 9 rules as ri : if ( u1isar1i1 ) and ( u2isar2i2 ) thenyi the vector of adjustable components theta is defined as theta =[ theta1ttheta2ttheta3t ] t , with theta1t =[ theta101theta111theta121 ... theta901theta911theta921 ] theta2t =[ theta102theta112theta122 ... theta902theta912theta922 ] theta3t =[ theta103theta113theta123 ... theta903theta913theta923 ] and are updated at each control iteration by the adaptive law in equation ( 13 ) .
the matrix xi =[ xi1txi2txi3t ] t is computed with xi1t =[ xi101xi111xi121 ... xi901xi911xi921 ] xi2t =[ xi102xi112xi122 ... xi902xi912xi922 ] xi3t =[ xi103xi113xi123 ... xi903xi913xi923 ] figures 10 ( c ) , 11 ( c ) , and 12 ( c ) show the experimental results for case 3 .
figures 10 ( d ) , 11 ( d ) , and 12 ( d ) show the experimental results of fuzzy system plus nominal model for case 4 .
7.2 .
results discussion figure 10 shows the applied torques in the robotic manipulator joints .
note that for the range of the disturbance inserted , the controllers act strongly on the system , reversing the directions of the torques of joints 1 and 2 and increasing the torque of joint 3 .
in this analysis , it appears that the controllers using neural networks , nn1 and nn2 , oscillate less , therefore , they have a slightly slower response time .
the charts of figure 11 are important because they show the behavior of the end effector during the controller actions , and represent the measurements of force and moment in the robotic end - effector .
as expected , it was observed that during the period in which the disturbance appeared in the system , there was a higher intensity of forces and moments which decreased gradually , tending to zero , until the final time ( 4 s ) .
the proposed configuration for the device sensor proves its effectiveness in providing these data with the required accuracy and without delay to the implementation of the control laws under study .
figure 12 shows the tracking angles of three joints of the robotic manipulator .
notice that the largest deviation is in the range where the disturbance appeared .
nonetheless , the experiment showed good tracking of the trajectories desired .
again , we can see that for the controller without the intelligent system , nom , the control actuation is slower , providing greater tracking error of reference signals .
three performance indexes are used to compare the nonlinear hinfinity controllers : the l2 norm of the state vector l2 [ x ~]=( 1 ( tr - t0 ) integralt0tr || x ~( t )|| 22dt ) 1 / 2where || . || 2 is the euclidean norm , the sum of the applied torques e [ tau ]= sumi = 13 ( integralt0tr | taui ( t )| dt ) and the sum of areas of contact forces e [ lambda ]= sumi = 13 ( integralt0tr | lambdai ( t )| dt ) where lambdai ( t ) the ith component of the contact forces .
as the desired values of contact forces are zero , the lower the value of e [ lambda ] , the better the controller will be with respect to contact force control .
the results that are shown in table 4 present the mean value of five experiments. from table 4 we can conclude that the controller based only on the nominal model presents a higher state error and greater forces .
although the fuzzy controllers exhibit the best performance , this performance difference with respect to controllers based on neural networks deserves more in - depth study , which will be carried out in future works .
8. conclusions in this work , the control problem of trajectory tracking with hinfinity guaranteed performance was considered for manipulators with force and position constraint .
five controllers were evaluated : the first controller , called nominal , considers that the term f ( xe ) is completely known , i.e. , it does not take into account parametric uncertainties of the model .
the second and third controllers have neural network - based estimators , where the second considers the known nominal model of the manipulator and estimates only parameter uncertainties , and the third estimates the full model .
the fourth and fifth controllers have fuzzy logic - based estimators which estimate only parametric uncertainties and the full model , respectively .
according to experimental results presented in section 7 , controllers nn1 and fs1 have better tracking trajectory compared , respectively , with the nn2 and fs2 .
moreover , it also appears they are more stable because of the lower oscillations after the introduction of disturbance , and this feature occurs for the trajectory tracking in cartesian space in order to follow the trajectory of joint angles .
comparing the results of intelligent systems it is noted that the controllers via neural networks ( nn2 and nn1 ) have a smoother control action and , consequently , have smaller oscillations than the fuzzy systems ( fs1 and fs2 ) , which can be verified by comparing the graphics of torque ( figure 10 ) .
on the other hand , the controllers nn1 and nn2 are slower than the fs1 and fs2 , hence they tend to have a greater tracking error .
in addition , when the system is subject to disturbances , all controllers respond well .
analyzing the proposed performance indices , it was shown that the state error in the fuzzy system - based controllers ( fs1 and fs2 ) tend to be smaller than those based on neural networks ( nn2 and nn1 ) .
a possible explanation for this is due to the fact that fuzzy systems acted faster than neural networks .
it was observed that choosing values of klambda more directly influence the adjustment of the forces , while the values of rho influence the tracking errors in the state variables .
the development of the proposed sensor was of crucial importance for the realization of the experimental analysis , a differential of this paper .
the measurement results shown proved the effectiveness of the proposed structure .
still , its modular feature enables the application of sensor units of various kinds , such as piezoelectric sensors .
as future work , a comparative study will be performed between the developed sensor and commercially available ones .
furthermore , the use of genetic algorithms to adjust controller gains is a current and ongoing project .
this work was supported by coordenacao de aperfeicoamento de pessoal de nivel superior ( capes ) and fundacao de apoio a pesquisa do estado de sao paulo ( fapesp ) , under grant 2012 / 05552 - 9 .
references 1 .
kilicaslan s. ozgoren m.k. ider k. hybrid force and motion control of robots with flexible links mech. mach .
theory 2010 45 91 105 2 .
lewis f.l. abdallah c.t. dawson d.m. control of robot manipulators ; macmillan publishing company new york , ny , usa 1993 3 .
bechlioulis c.p. doulgeri z. rovithakis g.a. neuro - adaptive force / position control with prescribed performance and guaranteed contact maintenance ieee trans .
neural netw .
2010 21 1857 1868 20923732 4 .
cheah c.c. hou s.p. zhao y. slotine j.j.e. adaptive vision and force tracking control for robots with constraint uncertainty ieee / asme trans. mechatron .
2010 15 389 399 5 .
karayiannidis y. doulgeri z. adaptive control of robot contact tasks with on - line learning of planar surfaces automatica 2009 45 2374 2382 6 .
karayiannidis y. doulgeri z. robot contact tasks in the presence of control target distortions robot. auton. syst .
2010 58 596 606 7 .
kumar n. panwar v. sukavanam n. borm s.p.s.j.h. neural network based hybrid force / position control for robot manipulators int. j. precis. eng. manuf .
2011 12 419 426 8 .
salisbury j.k. active stiffness control of a manipulator in cartesian coordinates proceedings of the 19th ieee conference on decision and control including the symposium on adaptive processesalbuquerque , nm , usa10 - 12 december 1980 volume 19 95 100 9 .
raibert m. craig j. hybrid position / force control of manipulators asme j. dyn. syst. meas .
control 1981 102 126 133 10 .
paul r. shimano b. compliance and control proceedings of the joint automatic control conferencepurdue , in , usa27 - 30 july 1976 694 699 11 .
mcclamroch n.h. wang d. feedback stabilization and tracking of constrained robots ieee trans. autom .
control 1988 33 419 426 12 .
ortega r. spong m.w. adaptive motion control of rigid robots : a tutorial automatica 1989 25 877 888 13 .
slotine j.j.e. li w. composite adaptive control of robot manipulators automatica 1989 25 509 519 14 .
slotine j.j.e. li w. applied nonlinear control prentice - hall englewoods cliffs , nj , usa 1991 15 .
spong m.w. vidyasagar m. robot dynamics and control john wiley and sons new york , ny , usa 1989 16 .
carelli r. kelly r. an adaptive impedance / force controller for robot manipulators ieee trans. autom .
control 1991 36 967 971 17 .
jean j.h. fu l.c. adaptive hybrid control strategies for constrained robots ieee trans. autom .
control 1993 38 598 603 18 .
panteley e.v. stotsky a.a. adaptive trajectory / force control scheme for constrained robot manipulators int. j. adapt .
control signal process .
1993 7 489 496 19 .
su c.y. stepanenko y. leung t.p. combined adaptive and variable structure control for constrained robots automatica 1995 31 483 488 20 .
su c.y. leung t.p. zhou q.j. force / motion control of constrained robots using sliding mode ieee trans. autom .
control 1992 37 668 672 21 .
chang y.c. chen b.s. adaptive tracking control design of constrained robot systems int. j. adapt .
control signal process .
1998 12 495 526 22 .
chang y.c. chen b.s. a nonlinear adaptive hinfinity tracking control design in robotic systems via neural networks ieee trans .
control syst. technol .
1997 5 13 28 23 .
chang y.c. neural network - based hinfinity tracking control for robotic systems ieee proc .
control theory appl .
2000 147 303 311 24 .
chang y.c. chen b.s. robust tracking designs for both holonomic and nonholonomic constrained mechanical systems : adaptive fuzzy approach ieee trans .
fuzzy syst .
2000 8 46 66 25 .
meyer r.a. lowe a.e. multiple axis load sensitive transducer u.s. patent 4640138 1987 26 .
meyer r.a. olson d.j. load transducer u.s. patent 4821582 1989 27 .
sommerfeld j.l. meyer r.a. larson b.a. olson d.j. multi - axis load cell u.s. patent 5969268 1999 28 .
pazelli t.f.p.a.t. terra m.h. siqueira a.a.g. experimental investigation on adaptive robust controller designs applied to a free - floating space manipulator control eng. pract .
2011 9 395 408 29 .
doebelin e.o. measurement systems application and design mcgraw - hill science new york , ny , usa 1989 410 413 30 .
siqueira a.a.g. terra m.h. bergerman m. robust control of robots : fault tolerant approaches springer london , uk 2011 31 .
siqueira a.a.g. terra m.h. nonlinear and markovian hinfinity controls of underactuated manipulators ieee trans .
control syst. technol .
2004 12 811 826 figure 1 .
( a ) image taken from [ 25 ] ; ( b ) image taken from [ 26 ] ; ( c ) image taken from [ 27 ] .
figure 2 .
constrained robot manipulator .
figure 3 .
design of the 3d dynamic forces / moments sensor : ( 1 ) moving part ; ( 2 ) fixed part .
figure 4 .
body of force transmission ( 4 ) and arrangement of sensor units : ( a ) top view ; ( b ) bottom view .
figure 5 .
schematic of sensor operation .
figure 6 .
3d dynamic forces / moments sensor .
figure 7 .
electronic diagram .
figure 8 .
( a ) underactuated robot manipulator ; ( b ) force sensor device coupled to the uarm end - effector .
figure 9 .
torque disturbance .
figure 10 .
joint torque .
( a ) nn1 ; ( b ) nn2 ; ( c ) fs1 ; ( d ) fs2 ; ( e ) nom .
figure 11 .
force and moment .
( a ) nn1 ; ( b ) nn2 ; ( c ) fs1 ; ( d ) fs2 ; ( e ) nom .
figure 12 .
joint angles .
( a ) nn1 ; ( b ) nn2 ; ( c ) fs1 ; ( d ) fs2 ; ( e ) nom .
figure 13 .
fuzzy sets a1 ( q1 ) and a2 ( q1 ) .
table 1 .
maximum load .
axis x axis y axis z force ( n ) 44.1 29.4 25.5 moment ( n / m ) d212.7 d117 d114.7 table 2 .
uarm parameters .
body mi ii li lci ( kg ) ( kgm2 ) ( m ) ( m ) link 1 0.850 0.0075 0.203 0.096 link 2 0.850 0.0075 0.203 0.096 link 3 1.700 0.0900 0.240 0.177 table 3 .
selected gains .
p k0 klambda rho [ 2.500002.500002.50 ] [ 0.350000.350000.35 ] [ 2.000002.000002.00 ] [ 0.750000.750000.75 ] table 4 .
performance indexes .
l2 [ x ] e [ tau ] e [ lambda ] ( m ) ( nms ) ( ns ) nominal 0.1031 0.6508 0.1506 nn1 0.0780 0.6564 0.1435 nn2 0.1026 0.4318 0.1156 fs1 0.0759 0.5865 0.1136 fs2 0.0899 0.5182 0.1061