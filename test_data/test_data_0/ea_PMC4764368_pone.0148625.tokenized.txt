plos one plos one plos plosone plos one 1932 - 6203 public library of science san francisco , ca usa 26906398 4764368 10.1371 / journal.pone.0148625 pone - d - 15 - 24251 research articlecomputer and information sciencesinformation theorychannel codingengineering and technologysignal processingbandwidth ( signal processing ) physical sciencesmathematicsoptimizationphysical sciencesmathematicsstatistics ( mathematics ) statistical noisegaussian noiseengineering and technologyelectronicssignal decodersengineering and technologytelecommunicationsengineering and technologytelecommunicationsmultiplexingphysical sciencesmaterials sciencematerial propertiestractability two - level scheduling for video transmission over downlink ofdma networks 2 - level scheduling for video transmission over downlink ofdma networks tham mau - luen 12 * chow chee - onn 1 xu yi - han 3 ramli nordin 2 1 department of electrical engineering , faculty of engineering , university of malaya , kuala lumpur , malaysia 2 wireless innovation , mimos berhad , technology park malaysia , kuala lumpur , malaysia 3 college of information science and technology , nanjing forestry university , nanjing , china yang you editor huazhong university of science and technology , china competing interests : the authors would like to declare a commercial affiliation with mimos berhad .
this does not alter the authors' adherence to plos one policies on sharing data and materials .
conceived and designed the experiments : mlt .
performed the experiments : mlt coc yhx .
analyzed the data : mlt coc yhx nr. contributed reagents / materials / analysis tools : mlt coc yhx .
wrote the paper : mlt nr. * e - mail : thammauluen @ gmail.com 23 2 2016 2016 11 2 e0148625 4 6 2015 21 1 2016 ( c ) 2016 tham et al 2016 tham et althis is an open access article distributed under the terms of the creative commons attribution license , which permits unrestricted use , distribution , and reproduction in any medium , provided the original author and source are credited .
this paper presents a two - level scheduling scheme for video transmission over downlink orthogonal frequency - division multiple access ( ofdma ) networks .
it aims to maximize the aggregate quality of the video users subject to the playback delay and resource constraints , by exploiting the multiuser diversity and the video characteristics .
the upper level schedules the transmission of video packets among multiple users based on an overall target bit - error - rate ( ber ) , the importance level of packet and resource consumption efficiency factor .
instead , the lower level renders unequal error protection ( uep ) in terms of target ber among the scheduled packets by solving a weighted sum distortion minimization problem , where each user weight reflects the total importance level of the packets that has been scheduled for that user .
frequency - selective power is then water - filled over all the assigned subcarriers in order to leverage the potential channel coding gain .
realistic simulation results demonstrate that the proposed scheme significantly outperforms the state - of - the - art scheduling scheme by up to 6.8 db in terms of peak - signal - to - noise - ratio ( psnr ) .
further test evaluates the suitability of equal power allocation which is the common assumption in the literature .
this project is supported by the university of malaya , malaysia , under umrg grant ( rg064 / 11ict ) , and mimos berhad .
the funder mimos berhad provided support in the form of salaries for authors mlt and nr , but did not have any additional role in the study design , data collection and analysis , decision to publish , or preparation of the manuscript .
the specific roles of these authors are articulated in the ' author contributions' section.data availabilityall relevant data are within the paper .
data availability all relevant data are within the paper .
introduction with the rapid growth of video traffic over wireless networks , mobile operators are expected to support a large number of video subscribers simultaneously .
the quality - of - service ( qos ) provisioning of these services confronts two major technical hurdles .
first , video communication is bandwidth intensive and delay sensitive while the inherent limited wireless resources are shared by multiple users .
second , loss of different video packets induces different amounts of distortion in the received video .
when transmitting video over error - prone wireless channels , the impact of channel errors on the video can be extremely severe .
to optimize the received video quality , it is essential to allocate radio resources to video packets in an efficient and robust way by taking into account the channel conditions and the video characteristics .
resource allocation ( ra ) for orthogonal frequency - division multiple access ( ofdma ) systems has spurred significant attention from both industry and academia communities due to high spectral efficiency and fine granularity resource control ( e.g. , subcarrier , power and bit ) .
conventional ra schemes treat video bitstreams in a content - agnostic fashion [ 1 ] .
accordingly , the measurement of qos satisfaction level is often linked to average throughout , packet delay or / and packet loss ratio [ 2 - 5 ] .
such performance indicators , however , do not directly translate into actual video quality [ 6 ] .
one reason is that the spatial - temporal characteristics cannot be captured in generic bitstream .
another reason lies in the fact that video bitstreams are typically equipped with source - level error robustness features .
how the lost or damaged packets are concealed by a decoder dictate the final reconstructed video quality .
several recent ra works have explicitly selected video quality as their qos performance metric .
these works can be categorized as content - aware ra methods .
the core idea is to determine the importance level of each packet .
in [ 7 ] , a channel allocation method is devised for the quality - of - experience ( qoe ) - driven multimedia transmissions over the cognitive radio networks .
however , power allocation is not considered .
in [ 8 ] , a ra scheme that maximizes the weighted sum rate of all video users is proposed .
each user weight is measured by the highest importance level of packet buffered in that user transmission queue .
resources are then distributed across multiple users as a function of user weights and channel conditions .
similar strategy is extended to the case of scalable video bitstreams in [ 9 ] .
this time an additional parameter called packet deadline requirement is introduced in the weight calculation .
the above two schemes , however , share the same drawback , i.e. , the users with much higher weights always seize the transmission opportunity .
this may lead to low resource utilization if those selected users suffer from poor channel gains on the one hand , and starvation in remaining users on the other hand .
such unfairness issue is addressed in [ 10 ] by taking into account the scheduled packet size .
however , identical to [ 8 - 9 ] , the packets from each user queue are scheduled first by neglecting the resource consumption efficiency .
a step forward from allocating resources for a group of scheduled packets is the joint consideration of these two aspects .
the authors in [ 11 ] demonstrate the promising video performance with such design .
despite the significant gains accrued by the content - aware ra schemes in [ 8 - 11 ] , their video performances are purely derived based on the assumption of error - free transmission .
this , however , does not hold in practical communication systems that comprise of modulation and coding techniques .
in fact , in such systems , the prime concern is to achieve the best tradeoff between the bit rate and the link reliability associated with a target bit - error - rate ( ber ) .
according to [ 12 ] , the target ber criterion has a critical impact on the video performance .
if the value is loose , despite the abundant availability of packets at the receiver , most of them are corrupted and thus undecodable .
instead , if the target ber is strict , packets are forwarded in a conservative way , which may render limited achievable quality though most of the packets are decodable .
in [ 13 ] , practical modulation and coding schemes are considered in their video transmission platform .
however , similar to [ 12 ] , all video packets are simply assigned with a static target ber , irrespective of the importance of that packet .
moreover , equal power allocation ( epa ) is adopted to simplify the solution development .
in this paper , we propose a two - level multiuser video transmission framework which optimizes the packet scheduling and resource allocation .
the ultimate goal is to maximize the average video quality of all users under the playback delay and resource constraints .
this is achieved by jointly exploiting the multiuser diversity and the importance of each packet .
real encoded video bitstreams with practical modulation and coding schemes are considered. with regard to the coding aspect , a coded orthogonal frequency - division multiplexing ( ofdm ) system is considered .
in general , any ofdm system that combines channel coding and interleaving techniques can be classified as coded ofdm systems .
this technique is very effective in combating the burst errors stemming from the ofdm frequency selectivity that compromises the channel coding performance [ 14 ] .
the main contributions of this paper are as follows .
first , most existing ra works treat all the video packets with the same target ber .
in contrast , the proposed ra allocates resources in such a way that more ( less ) important video packets are assigned with stricter ( looser ) target bers .
this can be viewed as a form of unequal error protection ( uep ) which is established for its superior performance in transmission over noisy networks .
second , an overall target ber is considered to control how many average packets can be sent within one transmission interval .
as observed in [ 12 ] , the transmitter itself does not know the optimal value that renders the best overall video quality .
in this regard , the proposed ra seeks the best quality - resource tradeoff and thus will always be a safer option irrespective of the pre - determined overall target ber .
third , in a practical wireless video transmission system , this paper aims to cast some light on the suitability of epa , which is the most prevalently used alleviation in the ra literature [ 15 ] .
in fact , most previous works justify the use of epa from a theoretical perspective and isolate the influence of channel coding .
more specifically , validations are made by distinguishing the performance between epa and frequency - selective power allocation ( fpa ) in terms of spectral efficiency , where fpa assigns power to subcarriers as a function of their channel conditions .
it is however , not clear , how exactly the theoretical performance gap translates into the actual video performance gap .
the findings are deemed valuable as channel coding is part and parcel of practical systems .
the rest of the paper is organized as follows .
section 2 presents the system specifications , models and assumptions .
section 3 describes the two - level scheduling design .
section 4 reports simulation details and results .
section 5 concludes the paper .
system model we consider a downlink transmission scenario , where a base station ( bs ) transmits k different video streams , each to a designated user as depicted in fig 1 .
the bs receives the video streams from a remote media server via a high - bandwidth and lossless connection .
these streams are assumed to be pre - encoded with the h.264 / avc video coding standard [ 16 ] .
therefore , real - time transcoding techniques such as [ 17 ] are not applicable in this context .
each video frame is divided into one or more slices which can be decoded independently .
we assume that one slice is directly packetized into one transport packet .
hereafter the term " slice " and " packet " will be used interchangeably .
once a user requests a video , the corresponding packets are instantly transmitted to the bs and buffered at that user queue .
each packet m of user k is stamped with the importance level qk,m ( described later ) , packet size rk,m and waiting time tk,m. these parameters are collected as video content information ( vci ) .
note that any packet that misses its decoding deadline tmax will be discarded by the bs .
10.1371 / journal.pone.0148625.g001 fig 1 system block diagram for video over ofdma networks .
all scheduled video sessions are served via a downlink ofdma system with a total power ptot and a total bandwidth bt. there are n subcarriers to be shared by all users .
each subcarrier occupies a bandwidth of bn = bt / n and experiences flat fading under the assumption that bn is smaller than the coherence bandwidth in a frequency - selective wireless channel .
at the receiver , additive white gaussian noise ( awgn ) of power spectral density n0 with mean zero and variance sigma2 = n0bn is present .
for user k on subcarrier n , the channel gain and the corresponding channel - to - noise ratio ( cnr ) are denoted by hk,n and gammak,n = | hk,n | 2 / sigma2 , respectively .
we assume that the bs has perfect knowledge of channel state information ( csi ) and the channel conditions remain static over one time transmission interval ( tti ) .
the tti corresponds to the time length of a single media access control ( mac ) subframe with l ofdma symbols for payload transmission .
note that although " frame " is a more accurate way to refer to the physical layer service data unit ( sdu ) , we use " subframe " to avoid confusion between mac and video frames .
then , the achievable transmission bits at subframe t rk,n [ t ] is expressed as rk,n [ t ]= llog2 ( 1 + alphak,n [ t ] gammak,n [ t ] sk,n [ t ]) for - allk,for - alln .
( 1 ) where alphak,n and sk,n denote realistic coding gap and transmission power allocated on subcarrier n of user k , respectively .
if square m - qam modulation with gray bit mapping is adopted , alphak,n is provided by alphak,n [ t ]= - 1.5 / ln ( 5berk,n [ t ]) , alphak,n >= 0 for - allk,for - alln .
( 2 ) [ 18 ] .
note that rk,n [ t ] should be restricted to integer form due to discrete modulation levels gammak,n which is given by gammak,n [ t ]= 1 + alphak,n [ t ] gammak,n [ t ] sk,n [ t ] for - allk,for - alln .
( 3 ) however , we assume a non - integer number of bits for tractability first .
this constraint will be explicitly considered in section 3 - 2. with rk,n [ t ] , the number of video bits that can be loaded onto subcarrier n is expressed by r k,n [ t ]= cxrk,n [ t ] for - allk,for - alln .
( 4 ) where c is the coding rate .
denote rhok,n as the indicator for subcarrier allocation , where rhok,n = 1 implies that subcarrier n is assigned to user k ; otherwise , rhok,n equals to zero .
as each subcarrier cannot be shared by multiple users , the binary variable rhok,n should satisfy rhok,nin { 0,1 } , sumk = 1krhok,n = 1 for - alln .
( 5 ) let omegak be the set of subcarriers assigned to user k. then , only subcarrier n with rhok,n = 1 is included in omegak .
to ease the notational burden , let overall cnr as a matrix gamma with [ gamma ] k,n = gammak,n , rate allocation as a matrix r with [ r ] k,n = rk,n , subcarrier assignment as a matrix rho with [ rho ] k,n = rhok,n , power allocation as a matrix s with [ s ] k,n = sk,n , and coding gap as a matrix alpha with [ alpha ] k,n = alphak,n. based on the video content information and the channel state information , the proposed two - level scheduler ( shaded area ) makes decision once every subframe .
the upper level schedules the transmission of video packets among multiple users based on an overall target bit - error - rate ( ber ) .
instead , the lower level assigns subcarriers to the scheduled users , as well as adjusts modulation and power levels of each subcarrier .
the ultimate goal is to maximize the average overall quality of all users while adhering to resource and playback constraints .
once the optimization decision is made , each scheduled user flow undergoes bit - interleaved coded modulation ( bicm ) in isolation due to its strong forward error protection in frequency - selective fading environments [ 14 ] .
let us now scrutinize the bicm operation in the context of video delivery .
first , the selected packets from video k are aggregated into a bitstream which will be convolutionally encoded into coded bits and then interleaved across several subcarriers that has been assigned to that corresponding user .
the number of interleaved bits that can be loaded onto each subcarrier depends on the calculated modulation constellation size .
second , at the receiver , hard - decision demodulation is performed on the received signal of each subcarrier , followed by de - interleaving in order to assemble the coded bits .
third , the concatenate video bitstream is obtained by passing the coded bits to the viterbi decoder .
finally , the bitstream is unmerged into video packets where only error - free packets are passed onto the video decoder and corrupted ones are considered lost .
error concealment invokes when there is any lost packet in order to mask the visual artifacts .
we choose the copy - from - previous ( cp ) error concealment method due to its simplicity and efficiency [ 19 ] .
in particular , it copies the pixel values of the entire slice at the co - located slice from the previously decoded frame .
we then define qk,m as the quality increment of decoded video k caused by the transmission of packet m. mathematically , it can be expressed as qk,m = dk,ml - dk,mt ( 6 ) where dk,ml = dk ( tauk,m = 0 | pik ( m - 1 )) and dk,mt = dk ( tauk,m = 1 | pik ( m - 1 )) are the distortion caused by the lost and the transmission of packet m after the transmission of pik ( m - 1 )={ pik,1,pik,2 ,... , pik,m - 1 } , respectively .
tauk,m is the indicator for packet scheduling , where tauk,m = 1 implies that packet m of user k is scheduled at the current subframe .
otherwise , tauk,m = 0 .
pik ( m - 1 ) denotes the reordered set of packets in user queue k such that pik,1 is the first packet to be transmitted from that queue .
a brute - force approach that obtains qk,m in eq ( 6 ) is to calculate the mean square error ( mse ) of pixel values between original and concealed frames .
this , however , poses a prohibitive computational burden at the bs due to the nontrivial decoding process .
for this reason , we resort to the transmission distortion model as proposed in [ 20 ] , where dk,ml and dk,mt are predicted by using a different function of expected distortion accumulated up to the previous frame f - 1 ( denoted as e [ dk,mf - 1 ]) , macroblock ( mb ) partition modes and motion vector .
obviously , all these parameters can be readily obtained during the video encoding process except that the expected distortion must be computed on the fly in order to capture the effect of error propagation .
note that other transmission distortion models associated with different error concealment methods can potentially be incorporated here , but they are not investigated due to space limitations .
also , we do not consider retransmission of erroneous packets as it may not be feasible for real - time video applications .
two - level scheduling for video transmission in this section , we present a two - level scheduling scheme for video transmission .
first , we discuss the packet scheduling scheme .
second , we formulate an optimization problem for assigning subcarriers to the scheduled packets of different users and then assign modulation levels as well as power on those subcarriers .
finally , we elucidate how to update qk,m. packet scheduling the goal of packet scheduling is to sort the video packet transmission order as a function of the importance level qk,m and jk,m , at the beginning of each subframe .
jk,m denotes the resource consumption level of packet m. for each user queue , there are mk available packets of the same frame at subframe t. in general , the number of subframes available per video frame can be calculated by [ tmax / tti ] .
hereafter we omit the time index " t " for simplicity as it remains invariant throughout this paper .
based on the idea in [ 11 ] , jk,m is defined as the least number of free subcarriers needed to send packet m with the premise of epa .
then , the packet with the best ratio of qk,m / jk,m is served in one selection loop until there are no more subcarriers .
the procedures are summarized as follows : algorithm 1 : packet scheduling .
1 : initialization : set n = { 1 , 2 , itn } and mk = { 1 , 2 , itmk } for for - allk ; obtain qk,m for for - allm in mk and for - allk ; set berk,n = overall target ber for for - allk and for - alln ; set sk,n = ptot / n for for - allk and for - alln .
2 : repeat 3 : for k = 1 to k 4 : sort gammak,n of set n in a descending order .
obtain corresponding mapping indexes ik ( n ) in { 1,2,alpha n } for for - alln 5 : using eq ( 4 ) , construct set ak ={ r k,1,r k,2 ,... , r k ,| n |} corresponding to the reordered subcarrier indexes .
furthermore , construct set ak ={ rk,1 , rk,2 ,... , rk ,| n | } by computing the cumulative sum of the elements along ak .
6 : for m = 1 to mk 7 : find n * such that rk,n - 1 < rk,m <= rk,n and set jk,m = n * 8 : end for 9 : end for 10 : find k * , m * = arg maxk,m ( qk,m / jk,m ) and set tauk * , m * = 1 11 : update mk * = mk * - m * ; n = n - { ik *( 1 ) , ik *( 2 ) , ... , ik *( jk * , m *)} 12 : until no more packet to be streamed or the condition of line 07 is not satisfied for for - allkfor - allm switching the overall target ber may change not only the number of scheduled packets , but also the packet order to be transmitted .
this is because jk,m is associated with the transmission rate that varies accordingly with the overall target ber .
hence , [ 11 ] that does not consider overall target ber can be treated as a special case of algorithm 1. from the bs perspective , it would seem logical that the packets are forwarded as fast as possible ( by setting overall target ber to a loose value ) in order to avoid deadline violations .
however , the pitfall is that many received packets are possibly corrupted and thus undecodable .
on the other hand , if packets are forwarded in a conservative way , it may render limited achievable video quality though most of the packets are useful .
this is in line with the observation in [ 12 ] , that overall target ber criterion has a critical impact on the video performance and its optimal value cannot be known a priori .
under such circumstances , resource allocation should be adaptive to the scheduled packet priority in an uep way so that the average overall video distortion can be minimized .
resource allocation to bridge the gap , we propose an uep - oriented subcarrier assignment strategy that assigns stricter target bers to more important packets and vice versa .
to this end , an optimization problem that minimizes a weighted sum of user coding gaps subject to the scheduled packet length constraints is formulated .
assuming epa , the problem can be expressed as minrho,alphasumk = 1ksumn = 1nomegakrhok,nalphak,n subject to eqs ( 2 ) and ( 5 ) , sumn = 1nrhok,nrk,n >= 1csumm = 1mktauk,mrk,mfor - allk ( 7 ) where omegak denotes the weight factor for user k. the last constraint implies that the resources allocated to user k should be adequate enough to transmit the video packets scheduled from algorithm 1 .
we then project the importance level of video packets into the weight , which is given by omegak = summ = 1mktauk,mqk,mfor - allk ( 8 ) it is apparent that a group of more important packets from user k will lead to a larger omegak .
thus , user k has higher priority to occupy a subcarrier such that their corresponding alphak,n is reduced .
however , user k does not essentially dominate all the best subcarriers .
this is possible when another user who happens to have only a few good subcarriers that overlap with those of user k. furthermore , the link reliability of a packet is tightly connected with the modulation order which is adopted to carry that packet .
if user k already obtains sufficient subcarriers ( with low modulation orders ) to reliably transmit all data , remaining subcarriers can be granted to other users .
all these essences are captured in problem eq ( 7 ) and solving it actually translates into a reduction in the average distortion of all scheduled packets .
as alphak,n is an increasing function of berk,n , solution to eq ( 7 ) yields to a situation where more important packets are possibly error - free due to stricter bers on the one hand , and less critical packets are exposed to higher bers on the other hand .
fortunately , the amounts of quality degradation for those low - priority packets are anticipatively minimal as they are easily concealable .
the relationship between alphak,n and berk,n is proved in appendix .
note that eq ( 7 ) has to be solved in every subframe and so does the update of omegak associated with qk,m. since qk,m depends on the past scheduling decisions , solution to eq ( 7 ) offers means of effecting long - term fairness among different users in the following sense .
if scheduled packets of user k are assigned loose target ber in the current subframe , the current video frame may suffer more distortion that would propagate to subsequent frames due to the use of predictive coding .
in response to the loss , qk,m of the new frame would essentially grow larger .
this enforces the bs to assign stricter ber to user k 's packets in the future subframes .
to solve eq ( 7 ) , let us denote muk as the lagrange multipliers for the rate constraints and let [ mu ] k = muk be the multiplier vector .
then , the problem eq ( 7 ) is equivalent to finding the minimum of the following lagrange function l ( rho , alpha , mu )= sumk = 1ksumm = 1nomegakrhok,nalphak,n - sumk = 1kmuk ( sumn = 1nrhok,nrk,n - ( 1csumm = 1mktauk,mrk,m )) ( 9 ) the above problem can be solved efficiently with the lagrange dual decomposition method as long as the number of subcarriers becomes sufficiently large , i.e. , n >= 8 , which renders the duality gap negligible [ 21 - 22 ] .
for this , we define the dual function g ( mu ) as g ( mu )= min { rho , alpha } inlambdal ( rho , alpha , mu ) ( 10 ) where the domain lambda denotes the set of rho satisfying constraint eq ( 5 ) and alpha satisfying constraint eq ( 2 ) .
then , the dual problem can be expressed as maxmu <= 0 g ( mu )= sumn = 1ngn '( mu )+ sumk = 1kmuk ( 1csumm = 1mktauk,mrk,m ) ( 11 ) where g ( mu ) is decomposed into n independent problems gn '( mu ) which is defined by gn '( mu )= min { rho , alpha } inlambda { sumk = 1krhok,n ( omegakalphak,n - mukrk,n )} for - alln .
( 12 ) to solve eq ( 12 ) individually for n = 1 , ... , n under the integer constraint of rhok,n , the subcarrier n should be assigned to queue k with the minimum value of fk,n ( alphak,n )=( omegakalphak,n - mukrk,n ) .
for this , we take the derivative of sumk = 1kfk,n ( alphak,n ) with respect to alphak,n which results in alphak,n '=[ lmukln2 - 1gammak,nsk,n ]+ for - allk , for - alln , ( 13 ) where [ x ]+ is defined as max ( x , 0 ) .
then , we derive the subcarrier assignment rhok,n ' as rhok,n '={ 1,k = argminkfk,n ( alphak,n ') 0,otherwise .
for - alln .
( 14 ) we now replace eqs ( 13 ) and ( 14 ) into eq ( 12 ) and rewrite eq ( 12 ) as gn '( mu )= sumk = 1krhok,n '( omegakalphak,n ' - mukrk,n ') for - alln ( 15 ) where rk,n ' is obtained using eq ( 2 ) with alphak,n = rhok,n'alphak,n ' .
after solving eq ( 15 ) individually for n = 1 , ... , n , g ( mu ) is computed from eq ( 11 ) .
to find the optimal mu * that maximizes eq ( 1 ) regardless of the dual function differentiability , the update of mu can be done with the subgradient method in which the subgradient for queue k is defined as deltagk = 1csumm = 1mktauk,mrk,m - sumn = 1nrk,n ' for - allk ( 16 ) where rhok,n ' , alphak,n ' and rk,n ' are the optimizing variables in the definition of g ( mu ) = l ( rho , alpha , mu ) .
then , mu is updated by muki + 1 =[ muki + deltaideltagki ]+ for - allk ( 17 ) where i is the iteration index , deltai is a positive step size which follows diminishing step size policy [ 23 ] , and deltagki is the subgradient of g ( mu ) for queue k at current iteration i. the same iterative procedure is repeated until the subgradients of all queues converge to zero .
finally , mu = mu * allows us to attain near optimal solution rho * =~ rho ' and alpha * =~ alpha ' because the strong duality holds .
the complete steps are given in algorithm 2 .
denote z1 as the number of iterations needed to update muki until | deltagki |< epsilon .
then , the complexity is o ( z1kn ) .
algorithm 2 : subcarrier assignment .
1 : initialization : set i = 1 , mui > 0 , and choose 0 < epsilon << 1 as the stopping criterion .
2 : repeat 3 : set rhok,n = 0for - allk,for - alln .
4 : for n = 1 to n 5 : for k = 1 to k 6 : compute alphak,n ' using eq ( 13 ) .
7 : end for 8 : set rhok,n ' using eq ( 14 ) .
9 : end for 10 : i = i + 1 11 : update muki according to eq ( 17 ) for - allk 12 : until | deltagki |< epsilonfor - allk so far we assume continuous version of modulation levels .
in practice , the level can be only selected from the following set gammak,nin { 0 ,... , 2b ,... , 2bmax } .
b represents an even number starting from b = 2 and stands for the number of bits .
bmax is the maximum number of bits and its corresponding 2bmax is the highest modulation level .
note that gammak,n = 0 indicates no transmission .
based on the objective function in eq ( 7 ) with the assumption of epa , an obvious way is to assign next modulation level to the subcarrier which requires the lowest additional coding loss factor alphak,n. however , it may not yield good video quality as the viterbi decoder views the whole subchannel ( those subcarriers that have been assigned to user k ) as a channel with fluctuating bers associated with snrk,n = sk,ngammak,n. it is well known that channel coding performs poorly in such environments and frequency - selective power allocation ( fpa ) can enhance the performance [ 14 ]. by using the greedy bit loading algorithm in [ 24 ] , we assign next modulation level to the subcarrier with the smallest power increment .
for each scheduled user , this process repeats for a total iteration of ( 1csumm = 1mktauk,mrk,m )/ 2 , where one iteration requires | omegak | comparisons to search for the most power - efficient subcarrier .
once this technique is performed for every scheduled user , all subcarriers' power is normalized such that ptot is satisfied .
the overall complexity is given as o (( sumk = 1k ( 1csumm = 1mktauk,mrk,m ) x | omegak |)/ 2 ) .
the power allocation strategy deserves further attention .
so far in the ra literature , epa is the most commonly used assumption to alleviate the computational complexity .
while such simplification enjoys the ( near ) optimal performance in efficiency - oriented resource allocation policies , this is not the case for fairness - oriented schemes [ 15 ] .
the reason is that when fairness is emphasized , some bad channel users have to be scheduled that culminates in high channel gain variations among the users .
in this case , fpa is necessary as the achieved performance gain can be significant [ 25 ] .
however , these works justify their own arguments from the theoretical perspective and isolate the influence of channel coding .
in contrast , we investigate the necessity of fpa from the video performance perspective .
qk,m update recall that qk,m estimation requires the expected distortion accumulated up to the previous frame f - 1 , which is given by e [ dk,mf - 1 ]=( 1 - pk,mf - 1 ) dk,mt ( f - 1 )+ pk,mf - 1dk,ml ( f - 1 ) ( 18 ) where pk,mf - 1 = 1 - ( 1 - berk,mf - 1 ) rk,mf - 1 is the loss probability of packet m of frame f - 1 .
if the packet is dropped by the bs , pk,mf - 1 is set to one as it is assumed lost .
otherwise , pk,mf - 1 associated with berk,mf - 1 can be computed using eq ( 2 ) since we already have the past scheduling decisions ( i.e. , gammak,n and sk,n ) by executing the proposed two - level scheduling scheme. from eq ( 18 ) , it is clear that e [ dk,mf - 1 ] is larger if that packet is assigned with larger ber as compared to smaller ber .
thus , qk,m of the new frame would react to become larger in order to reflect its urgency in terms of ber protection level .
results and discussion in the simulations , six video sequences with 100 frames : foreman , carphone , coastguard , silent , mobile and news in qcif ( 176 x 144 ) format are used .
the video sequences are encoded in h.264 ( jvt reference software , jm 18.4 [ 26 ]) , with the baseline profile , a frame rate of 25 fps and an encoding rate of 350 kbps .
all frames , except for the first frame , are encoded as p frames .
each slice consists of a row of mbs .
to enhance error robustness , random i mbs are inserted into each frame , and constrained intra - prediction is activated .
the playback delay budget tmax of each packet is 40 ms. for the ofdma , the aggregate bandwidth bt is 1 mhz , the available transmit power ptot is 1 w and the number of subcarriers n is 256 .
the wireless channel is modeled as a frequency - selective fading channel that consists of six independent rayleigh multipaths .
each multipath component is modeled by clarke 's flat fading model [ 27 ] .
we assume the power delay profile exponentially decays with e - 2v , where v is the multipath index .
then , the relative power of the six multipath components are [ 0 , - 8.69 , - 17.37 , - 26.06 , - 34.74 , - 43.43 ] db. the length of tti is 5 ms which corresponds to 19 ofdm symbols .
we assume that l = 15 out of 19 symbols are adopted for packet transmission while the rest is supposed to account for the signalling overhead .
the maximum doppler shift is 30 hz and the power spectral density of the white gaussian noise is - 80 dbw / hz. the channel coding parameters are the same as in [ 12 ] , in which the convolutional encoder employs c = 1 / 2 with constraint length 5 and code generator polynomial of [ 23 , 35 ] in octal .
we assume four different mqam constellations gamma = { 0 , 4 , 16 , 64 , 256 } corresponding to 0 , 2 , 4 , 6 , and 8 bits per symbol .
for each subcarrier n assigned to user k , snrk,n is computed and channel errors are inserted in the modulated bitstream according to snrk,n. the average snr of all users is 15 db. to assess the decoded video quality , we use psnr = 10log10 ( 2552 / mse ) .
for each video , the psnr as reported below is averaged over 100 frames and over five sets of decoded video corresponding to five random error patterns for each time slot .
all results are included in dataset ( s1 dataset ) .
four schemes are compared as follows .
uep - ca : this is the proposed two - level scheduling scheme .
recall that uep is enabled within all scheduled packets via resource allocation .
uep - ca - epa : this is the same as uep - ca except that epa is executed .
ca [ 11 ] : this scheme is selected as the representative content - aware ( ca ) ra since it outperforms the other ca schemes ( e.g. [ 8 - 9 ]) , as reported in [ 11 ] itself .
the same packet scheduling as in uep - ca runs , but it directly assigns subcarriers to different users with epa .
thus , all scheduled packets share the same ber protection level .
then , epa is employed .
max [ 28 ] : the classical sum rate maximization serves as a benchmark .
it assigns subcarriers to the user with the best channel gain on it with epa .
in other words , it is a content - blind ra. the complexity of each scheme is summarized in table 1 .
10.1371 / journal.pone.0148625.t001 table 1 complexity analysis for different algorithms .
scheme computational complexity uep - ca / uep - ca - epa c1 + c2 + c3 + c4 ca [ 11 ] c1 + c2 + c4 max [ 28 ] c5 + c4 c1 = o ( km ) corresponding to the complexity for computing qk,m prior to scheduling .
c2 = o ( n ( k log2n + kmk )) corresponding to algorithm 1 .
c3 = o ( z1kn ) corresponding to algorithm 2 .
c4 = o (( sumk = 1k ( 1csumm = 1mktauk,mrk,m ) x | omegak |)/ 2 ) corresponding to discrete modulation .
c5 = o ( kn ) corresponding to max - gain subcarrier assignment .
fig 2 shows the average psnr over all six video sequences for different overall target bers and methods .
it can be seen that the psnr curves for all schemes possess different optimal overall target bers .
nevertheless , all the curves tend to drop when target ber loosens .
reaching at 10 - 1 , all methods have similar poor performance of 19 db. the reason is that higher modulation levels are needed to accommodate a burst of video packets under this setting .
therefore , most of them are corrupted and thus undecodable .
it is true that the two proposed schemes especially uep - ca significantly outperforms both ca and max for the entire ber range , reaching up to 6.8 db and 7.8 db , respectively .
in other words , the proposed scheme will always be a safer option irrespective of the pre - determined overall target ber due to its robustness against channel errors .
10.1371 / journal.pone.0148625.g002 fig 2 average psnr over all users versus overall target ber for different schemes .
in addition , the advantage of fpa over epa can be observed from the psnr gap between uep - ca and uep - ca - epa , where the highest gap is 5.9 db. therefore , epa could be an inappropriate choice and fpa is necessary to fully harness the channel coding performance .
interestingly enough , under the same epa approach , uep - ca - epa is still better than ca for the entire ber range , with the gain as high as 1.3 db. this indicates that the performance improvement does not solely derive from the fpa .
as algorithm 2 assigns more subcarriers associated with lower modulation levels to higher - priority packets , it guarantees a certain level of link reliability .
besides , as expected , max yields the poorest performance as it does not consider any video - related information .
fig 3 depicts the average psnr for each video corresponding to overall target ber = 10 - 2 .
it is obvious that uep - ca - like schemes are superior to their counterparts over all video sequences .
a larger performance improvement can be found not only in high - motion ( complex ) sequences such as foreman and carphone but also in slow - motion ( simple ) videos such as news .
the packets of complex video are generally more important that those of simple video .
thus , many complex packets are likely to be transmitted where the benefit of protecting these packets via stricter target ber is more visible .
on the other hand , when the simple packets are scheduled , they are deemed extremely important since many inter - coded packets rely on them .
the effect of error propagation can last for a long period if these packets are distorted .
uep - ca - like schemes recognize this fact by assigning stricter target bers to them .
10.1371 / journal.pone.0148625.g003 fig 3 average psnr per video for different schemes at overall target ber = 10 - 2 .
video index represents 1 : foreman , 2 : carphone , 3 : coastguard , 4 : silent , 5 : mobile and 6 : news .
to gain insight of the performances from another perspective , fig 4 depicts the average psnr and the standard deviation ( std ) of the psnr per frame over all clients for all comparison schemes corresponding to overall target ber = 10 - 2 .
for easeof exposition , we only provide the outcome from the 10th to 90th frame .
10.1371 / journal.pone.0148625.g004 fig 4 frame - by - frame quality over all users for different schemes at overall target ber = 10 - 2 .
( a ) average psnr per frame .
( b ) psnr variance across all users. from fig 4 ( a ) , it is observed that uep - ca - like schemes consistently perform better than their alternatives over all frames. from fig 4 ( b ) , it can be seen that ca tends to render relatively identical video quality per frame across all the clients .
such performance trend is actually not a good sign as it is attributed to its relatively low average psnr .
while the std of uep - ca is only - 0.8 ~ 3.5 db as compared to ca , uep - ca shows a remarkable psnr gain of 4.3 ~ 7.5 db over ca. in other words , uep - ca at its peak accrues a total quality improvement of ( 7.5x4 = 45 db ) over ca. also , the video itself has its own initial average psnr due to the same encoding rate .
therefore , such slight degradation in terms of video fairness for the uep - ca case is reasonable .
in fact , the results in fig 3 suggest that uep - ca - like schemes ultimately lead to the best average quality of 100 frames for all videos .
additionally , a very meaningful phenomenon is found at the std curves around the 80th frame for the uep - ca. there is a steep rise and drop centered at that point .
the rising std prior to the pivotal point ( 75th ~ 79th ) indicates that certain users were either suffering resource starvation or lacking of ber protection at that time .
this issue would be compensated by algorithm 2 where stricter bers would be assigned to 81st ~ 85th frames of those users .
conclusions we have proposed a two - level scheduling framework for transmitting h.264 videos over multiuser coded ofdm systems , by taking into account the channel conditions , the video information and multiple target bers .
the main contribution lies in how uep of video packets is rendered via subcarrier assignment and power allocation strategies .
a novel weighted sum distortion minimization problem was formulated and frequency - selective power allocation was employed .
bit - level simulation results demonstrate that the proposed schemes remarkably outperform the advanced schemes , with the psnr gain as high as 6.8 .
furthermore , via comparison with equal power allocation , we recommend that frequency - selective power allocation is necessary to fully exploit the potential channel coding gain .
appendix relationships between alphak,n and berk,n applying the natural logarithm on both sides of eq ( 2 ) , we obtain lnalphak,n = ln ( 1.5 - ln ( 5berk,n )) ( 19 ) = ln1.5 - ln ( - ln ( 5berk,n )) ( 20 ) we differentiate eq ( 20 ) with respect to berk,n to get ( 1alphak,n )( dalphak,ndberk,n )= - ( 1 - ln ( 5berk,n ))( 1berk,n ) ( 21 ) after some algebraic operations , eq ( 21 ) can be rewritten as ( dalphak,ndberk,n )= ( 1.5berk,nxln2 ( 5berk,n )) ( 22 ) as the gradient ( dalphak,n / dberk,n ) is always positive for the feasible ber range is 0 < berk,n < 0.02 , it is clear that alphak,n is an increasing function of berk,n. supporting information s1 dataset comparison of different methods in terms of video quality .
( xlsx ) click here for additional data file .
references 1 khalek a , caramanis c , heath rw . a cross - layer design for perceptual optimization of h.264 / svc with unequal error protection . ieee j. sel .
areas commun .
2012 ; 30 : 1157 - 1171 . doi : 10.1109 / jsac.2012.120802 2 mokari n .
, javan mr , navaie k . cross - layer resource allocation in ofdma systems for heterogeneous traffic with imperfect csi . ieee trans. veh. technol .
2010 ; 59 : 1011 - 1017 . doi : 10.1109 / tvt.2009.2035131 3 yen cm , chang cj , wang lc . a utility - based tmcr scheduling scheme for downlink multiuser mimo - ofdma systems . ieee trans. veh. technol .
2010 ; 59 : 4105 - 4115 . doi : 10.1109 / tvt.2010.2062546 4 wang cy , ko ch , wei hy , vasilakos av . a voting - based femtocell downlink cell - breathing control mechanism . ieee / acm trans. netw .
2014 ; in press .
5 zhou l , zhang y , song k .
, jing w , vasilakos av . distributed media services in p2p - based vehicular networks . ieee trans. veh. technol .
2011 ; 60 : 692 - 703 . doi : 10.1109 / tvt.2010.2102782 6 luo h , ci s , wu d , wu j , tang h . quality - driven cross - layer optimized video delivery over lte . ieee commun. mag .
2010 ; 48 : 102 - 109 . doi : 10.1109 / mcom.2010.5402671 7 jiang t , wang h , vasilakos av . qoe - driven channel allocation schemes for multimedia transmission of priority - based secondary users over cognitive radio networks . ieee j. sel .
areas commun .
2012 ; 30 : 1215 - 1224 . doi : 10.1109 / jsac.2012.120807 8 pahalawatta p , berry r , pappas t , katsaggelos a . content - aware resource allocation and packet scheduling for video transmission over wireless networks . ieee j. sel .
areas commun .
2007 ; 25 : 749 - 759 . doi : 10.1109 / jsac.2007.070511 9 ji x , huang j , chiang m , lafruit g , catthoor f . scheduling and resource allocation for svc streaming over ofdm downlink systems . ieee trans .
circuits syst .
video technol .
2009 ; 19 : 1549 - 1555 . doi : 10.1109 / tcsvt.2009.2026812 10 li p , chang y , feng n . a cross - layer algorithm of packet scheduling and resource allocation for multi - user wireless video transmission . ieee trans. consum. electron .
2011 ; 57 doi : 10.1109 / tce.2011.6018865 11 li f , ren p , du q . joint packet scheduling and subcarrier assignment for video communications over downlink ofdma systems . ieee trans. veh. technol .
2012 ; 61 : 2753 - 2767 . doi : 10.1109 / tvt.2012.2195511 12 wang d , toni l , cosman pc , milstein lb . uplink resource management for multiuser ofdm video transmission systems : analysis and algorithm design . ieee trans. commun .
2013 ; 61 : 2060 - 2073 . doi : 10.1109 / tcomm.2013.032013.120053 13 yang z , wang x . scalable video broadcast over downlink mimo - ofdm systems . ieee trans .
circuits syst .
video technol .
2013 ; 23 : 212 - 223 . doi : 10.1109 / tcsvt.2012.2203216 14 moon h , cox dc . efficient power allocation for coded ofdm systems . ieee trans. commun .
2009 ; 57 : 943 - 947 . doi : 10.1109 / tcomm.2009.04.060304 15 lee hw , chong s . downlink resource allocation in multi - carrier systems : frequency - selective vs. equal power allocation . ieee trans .
wireless commun .
2008 ; 7 : 3738 - 3747 . doi : 10.1109 / t - wc.2008.061110 16 itu - t ( 2005 ) avc : advanced video coding for generic audiovisual services .
itu - t recommendation h.264 and iso / iec 11496 - 10 ( mpeg - 4 ) , international telecommunications union , geneva , switzerland .
17 lai cf , chao hc , lai yx , wan j . cloud - assisted real - time transrating for http live streaming . ieee trans .
wireless commun .
2013 ; 20 : 62 - 70 . doi : 10.1109 / mwc.2013.6549284 18 qiu x , chawla k . on the performance of adaptive modulation in cellular systems . ieee trans. commun .
1999 ; 47 : 884 - 895 . doi : 10.1109 / 26.771345 19 liang yj , apostolopoulos jg , girod b . analysis of packet loss for compressed video : effect of burst losses and correlation between error frames . ieee trans .
circuits syst .
video technol .
2008 : ; vol. 18 , no .
7 , pp .
861 - 874 , 7 2008 .
doi : 10.1109 / tcsvt.2008.923139 20 li f , liu g . compressed - domain - based transmission distortion modeling for precoded h.264 / avc video . ieee trans .
circuits syst .
video technol .
2009 : 19 : 1908 - 1914 . doi : 10.1109 / tcsvt.2009.2031457 21 yu w , lui r . dual methods for nonconvex spectrum optimization of multicarrier systems . ieee trans. commun .
2006 ; 54 : 1310 - 1322 . doi : 10.1109 / tcomm.2006.877962 22 seong k , mohseni m , cioffi jm. optimal resource allocation for ofdma downlink systems. proc .
ieee isit .
conf 2006 .
23 bertsekas .
nonlinear programming .
athena scientific ; 1995 .
24 song dg , ye l . cross - layer optimization for ofdm wireless networks - part ii : algorithm development . ieee trans .
wireless commun .
2005 ; 4 : 625 - 634 . doi : 10.1109 / twc.2004.843067 25 bohge m , gross j , wolisz a. the potential of dynamic power and sub - carrier assignments in multi - user ofdm - fdmaa cells. proc .
ieee globecom .
conf 2005 .
26 h.264 jm 18.4 reference software .
[ online ] .
available : http :// iphome.hhi.de / suehring / tml / download / 27 rappaport ts . wireless communications : principles and practice .
upper saddle river , nj : prentice - hall ; 2002 . 28 jang j , lee kb . transmit power adaptation for multiuser ofdm systems . ieee j. sel .
areas commun .
2003 ; 21 : 171 - 178 . doi : 10.1109 / jsac.2002.807348